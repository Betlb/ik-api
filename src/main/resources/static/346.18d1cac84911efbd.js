"use strict";(self.webpackChunkangegitim=self.webpackChunkangegitim||[]).push([[346],{3346:(L,m,l)=>{l.r(m),l.d(m,{AuthModule:()=>O});var s=l(9808),i=l(3075),g=l(520),a=l(4521),t=l(5e3);const d=["root",""],p=function(){return{"background-image":"url(./assets/media/misc/auth-bg.png)"}};let f=(()=>{class e{constructor(){this.today=new Date}ngOnInit(){}ngOnDestroy(){}}return e.\u0275fac=function(o){return new(o||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["body","root",""]],attrs:d,decls:10,vars:2,consts:[[1,"d-flex","flex-column","flex-lg-row","flex-column-fluid"],[1,"d-flex","flex-column","flex-lg-row-fluid","w-lg-50","p-10","order-2","order-lg-1"],[1,"d-flex","flex-center","flex-column","flex-lg-row-fluid"],[1,"<?php","echo","$params['wrapperClass']?>","p-10"],[1,"d-flex","flex-center","flex-wrap","px-5"],[1,"d-flex","fw-semibold","text-primary","fs-base"],[1,"d-flex","flex-lg-row-fluid","w-lg-50","bgi-size-cover","bgi-position-center","order-1","order-lg-2",3,"ngStyle"],[1,"d-flex","flex-column","flex-center","py-15","px-5","px-md-15","w-100"],["src","./assets/media/misc/login.png","alt","",1,"mx-auto","w-275px","w-md-50","w-xl-500px","mb-10","mb-lg-20"]],template:function(o,r){1&o&&(t.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t._UZ(4,"router-outlet"),t.qZA()(),t.TgZ(5,"div",4),t._UZ(6,"div",5),t.qZA()(),t.TgZ(7,"div",6)(8,"div",7),t._UZ(9,"img",8),t.qZA()()()),2&o&&(t.xp6(7),t.Q6J("ngStyle",t.DdM(1,p)))},dependencies:[s.PC,a.lC],styles:["[_nghost-%COMP%]{height:100%}"]}),e})();var h=l(590),c=l(2542);function v(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",14)(2,"div",15),t._uU(3," The login details are incorrect"),t._UZ(4,"br"),t._uU(5),t.qZA()(),t.BQk()),2&e){const o=t.oxw();t.xp6(5),t.hij(" ",o.errorDetail," ")}}function x(e,n){if(1&e&&(t.ynx(0),t.TgZ(1,"div",16)(2,"span",17),t._uU(3),t.qZA()(),t.BQk()),2&e){const o=t.oxw().message;t.xp6(3),t.hij(" ",o," ")}}function b(e,n){if(1&e&&t.YNc(0,x,4,1,"ng-container",12),2&e){const o=n.control;t.Q6J("ngIf",o.hasError(n.validation)&&(o.dirty||o.touched))}}const w=function(e){return{validation:"required",message:"Kullan\u0131c\u0131 ad\u0131 gerekli",control:e}},C=function(e,n){return{"is-invalid":e,"is-valid":n}},A=function(e){return{validation:"required",message:"\u015eifre gerekli",control:e}},T=[{path:"",component:f,children:[{path:"",redirectTo:"login",pathMatch:"full"},{path:"login",component:(()=>{class e{constructor(o,r,u,U,M){this.fb=o,this.authService=r,this.route=u,this.router=U,this.cd=M,this.defaultAuth={userName:"",password:""},this.unsubscribe=[],this.isLoading$=this.authService.isLoading$,this.authService.currentUserValue&&this.router.navigate(["izin-olustur"])}ngOnInit(){this.initForm(),this.returnUrl=this.route.snapshot.queryParams["returnUrl".toString()]||"/"}get f(){return this.loginForm.controls}initForm(){this.loginForm=this.fb.group({userName:[this.defaultAuth.userName,i.kI.compose([i.kI.required])],password:[this.defaultAuth.password,i.kI.compose([i.kI.required])]})}submit(){this.hasError=!1,this.errorDetail="";const o=this.authService.login(this.f.userName.value,this.f.password.value).pipe((0,h.P)()).subscribe(r=>{r.id?this.router.navigate([this.returnUrl]):(this.errorDetail=r.hata,this.hasError=!0,this.cd.detectChanges())});this.unsubscribe.push(o)}ngOnDestroy(){this.unsubscribe.forEach(o=>o.unsubscribe())}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(i.qu),t.Y36(c.e),t.Y36(a.gz),t.Y36(a.F0),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-login"]],decls:20,vars:15,consts:[["novalidate","novalidate","id","kt_login_signin_form",1,"form","w-100",3,"formGroup","ngSubmit"],[1,"text-center","mb-11"],[1,"text-dark","fw-bolder","mb-3"],[1,"fv-row","mb-8"],[1,"form-label","fs-6","fw-bolder","text-dark"],["type","text","name","userName","formControlName","userName","autocomplete","off",1,"form-control","bg-transparent"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"fv-row","mb-3"],[1,"form-label","fw-bolder","text-dark","fs-6","mb-0"],["type","password","name","password","autocomplete","off","formControlName","password",1,"form-control","bg-transparent",3,"ngClass"],[1,"d-grid","mb-10"],["type","submit","id","kt_sign_in_submit",1,"btn","btn-primary",3,"disabled"],[4,"ngIf"],["formError",""],[1,"mb-lg-15","alert","alert-danger"],[1,"alert-text","font-weight-bold"],[1,"fv-plugins-message-container"],["role","alert"]],template:function(o,r){if(1&o&&(t.TgZ(0,"form",0),t.NdJ("ngSubmit",function(){return r.submit()}),t.TgZ(1,"div",1)(2,"h1",2),t._uU(3," Giri\u015f Yap "),t.qZA()(),t.TgZ(4,"div",3)(5,"label",4),t._uU(6,"Kullan\u0131c\u0131 Ad\u0131"),t.qZA(),t._UZ(7,"input",5),t.GkF(8,6),t.qZA(),t.TgZ(9,"div",7)(10,"label",8),t._uU(11,"\u015eifre"),t.qZA(),t._UZ(12,"input",9),t.GkF(13,6),t.qZA(),t.TgZ(14,"div",10)(15,"button",11),t._uU(16," Giri\u015f "),t.qZA()()(),t.YNc(17,v,6,1,"ng-container",12),t.YNc(18,b,1,1,"ng-template",null,13,t.W1O)),2&o){const u=t.MAs(19);t.Q6J("formGroup",r.loginForm),t.xp6(8),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(8,w,r.loginForm.controls.userName)),t.xp6(4),t.Q6J("ngClass",t.WLB(10,C,r.loginForm.controls.password.invalid,r.loginForm.controls.password.valid)),t.xp6(1),t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.VKq(13,A,r.loginForm.controls.password)),t.xp6(2),t.Q6J("disabled",r.loginForm.invalid),t.xp6(2),t.Q6J("ngIf",r.hasError)}},dependencies:[s.mk,s.O5,s.tP,i._Y,i.Fj,i.JJ,i.JL,i.sg,i.u],styles:["[_nghost-%COMP%]{width:100%}@media (min-width: 992px){[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]{width:100%;max-width:450px}[_nghost-%COMP%]   .login-form[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}}"]}),e})(),data:{returnUrl:window.location.pathname}},{path:"logout",component:(()=>{class e{constructor(o){this.authService=o,this.authService.logout()}ngOnInit(){}}return e.\u0275fac=function(o){return new(o||e)(t.Y36(c.e))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-logout"]],decls:2,vars:0,template:function(o,r){1&o&&(t.TgZ(0,"p"),t._uU(1,"logout works!"),t.qZA())}}),e})()},{path:"",redirectTo:"login",pathMatch:"full"},{path:"**",redirectTo:"login",pathMatch:"full"}]}];let _=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[a.Bz.forChild(T),a.Bz]}),e})();var F=l(7292);let O=(()=>{class e{}return e.\u0275fac=function(o){return new(o||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[s.ez,F.q,_,i.u5,i.UX,g.JF]}),e})()}}]);